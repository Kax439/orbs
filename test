local Admins = game.Players.LocalPlayer
if not Admins then
	Admins = game.Players:GetPlayerByUserId(game.CreatorId)
end
repeat wait() until Admins and Admins.Character

local Speed = 0.05
local Distance = 5
local Prefix = "!"
local Players = game:GetService("Players")
local Banned = {}
local Admin = {"timnatood7012"}

-- Папка для банов
local folder = Instance.new("Folder", game.Lighting)
folder.Name = "sbans"

-- Функция для поиска игрока по имени
local function findPlayer(name)
    name = name:lower()
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name:lower():sub(1, #name) == name then
            return player
        end
    end
    return nil
end

-- Функция для проверки админки
local function isAdmin(player)
    for _, adminName in ipairs(Admin) do
        if player.Name:lower() == adminName:lower() then
            return true
        end
    end
    return false
end

-- Система банов
game:GetService('RunService').Stepped:connect(function()
    for _, x in pairs(folder:GetChildren()) do
        local player = Players:FindFirstChild(x.Name)
        if player then
            player:Kick("You are banned")
        end
    end
end)

-- Уведомления о входе/выходе
Players.PlayerAdded:connect(function(player)
    if workspace:FindFirstChild("Part") then
        game:GetService('Chat'):Chat(workspace.Part, player.Name .. " has joined! AccountAge = " .. player.AccountAge .. " | UserID = " .. player.UserId, Enum.ChatColor.Red)
    end
end)

Players.PlayerRemoving:connect(function(player2)
    if workspace:FindFirstChild("Part") then
        game:GetService('Chat'):Chat(workspace.Part, player2.Name .. " has left! AccountAge = " .. player2.AccountAge .. " | UserID = " .. player2.UserId, Enum.ChatColor.Red)
    end
end)

-- Команда списка музыки
Admins.Chatted:connect(function(msg)
	if msg:lower() == Prefix .. "muslist" then
		local sg2 = Instance.new("ScreenGui", Admins.PlayerGui)
		local fm2 = Instance.new("Frame", sg2)
		fm2.Position = UDim2.new(0.42,0,0.3,0)
		fm2.Size = UDim2.new(0,300,0,400)
		fm2.BackgroundColor3 = Color3.new(0,0,0)
		fm2.BackgroundTransparency = 0.5
		fm2.BorderSizePixel = 0
		
		local songs = {
			{name = "Cake", id = "313144336"},
			{name = "Watcha", id = "177681012"},
			{name = "Moonman", id = "340924386"},
			{name = "Hello", id = "313694441"},
			{name = "Lean", id = "328474897"},
			{name = "Waves", id = "253545802"},
			{name = "Baby", id = "130841252"}
		}
		
		for i, song in ipairs(songs) do
			local btn = Instance.new("TextButton", fm2)
			btn.Size = UDim2.new(0,300,0,25)
			btn.Position = UDim2.new(0,0,0,(i-1)*25)
			btn.TextColor3 = Color3.new(1,1,1)
			btn.Font = Enum.Font.SourceSans
			btn.TextSize = 14
			btn.Text = song.name
			btn.BackgroundTransparency = 1
			
			btn.MouseButton1Click:connect(function()
				Admins.Chatted:Fire(Prefix .. "music " .. song.id)
				sg2:Destroy()
			end)
		end
		
		local close2 = Instance.new("TextButton", fm2)
		close2.Size = UDim2.new(0,15,0,15)
		close2.Position = UDim2.new(0,285,0,0)
		close2.BackgroundTransparency = 1
		close2.TextColor3 = Color3.new(1,1,1)
		close2.Text = "X"
		close2.Font = Enum.Font.SourceSans
		close2.TextSize = 12
		close2.MouseButton1Click:connect(function()
			sg2:Destroy()
		end)
	end
end)

-- Команда списка команд
Admins.Chatted:connect(function(msg)
	if msg:lower() == Prefix .. "cmds" then
		local screenGui = Instance.new("ScreenGui", Admins.PlayerGui)
		screenGui.Name = "CommandListGUI"

		local mainFrame = Instance.new("Frame", screenGui)
		mainFrame.Size = UDim2.new(0, 520, 0, 450)
		mainFrame.Position = UDim2.new(0.5, -260, 0.5, -225)
		mainFrame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
		mainFrame.BorderSizePixel = 0

		local titleBar = Instance.new("Frame", mainFrame)
		titleBar.Size = UDim2.new(1, 0, 0, 30)
		titleBar.Position = UDim2.new(0, 0, 0, 0)
		titleBar.BackgroundColor3 = Color3.new(0.2, 0, 0)

		local titleText = Instance.new("TextLabel", titleBar)
		titleText.Size = UDim2.new(1, -40, 1, 0)
		titleText.Position = UDim2.new(0, 10, 0, 0)
		titleText.Text = "ADMIN COMMANDS"
		titleText.TextColor3 = Color3.new(1, 1, 1)
		titleText.Font = Enum.Font.SourceSansBold
		titleText.TextSize = 18
		titleText.TextXAlignment = Enum.TextXAlignment.Left
		titleText.BackgroundTransparency = 1

		local closeBtn = Instance.new("TextButton", titleBar)
		closeBtn.Size = UDim2.new(0, 30, 0, 30)
		closeBtn.Position = UDim2.new(1, -30, 0, 0)
		closeBtn.Text = "X"
		closeBtn.TextColor3 = Color3.new(1, 1, 1)
		closeBtn.Font = Enum.Font.SourceSansBold
		closeBtn.TextSize = 18
		closeBtn.BackgroundColor3 = Color3.new(0.3, 0, 0)
		closeBtn.BorderSizePixel = 0
		closeBtn.MouseButton1Click:connect(function()
			screenGui:Destroy()
		end)

		local scrollFrame = Instance.new("ScrollingFrame", mainFrame)
		scrollFrame.Size = UDim2.new(1, -10, 1, -40)
		scrollFrame.Position = UDim2.new(0, 5, 0, 35)
		scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 700)
		scrollFrame.BackgroundTransparency = 1
		scrollFrame.ScrollBarThickness = 8

		local commands = {
			Prefix .. "kill <plr> - Kills the target player",
			Prefix .. "kick <plr> - Kicks the target player",
			Prefix .. "ban <plr> - Bans the target player",
			Prefix .. "explode <plr> - Makes player explode",
			Prefix .. "exe <script> - Executes Lua code",
			Prefix .. "console show - Opens admin console",
			Prefix .. "console hide - Closes admin console",
			Prefix .. "ff <plr> - Gives ForceField",
			Prefix .. "unff <plr> - Removes ForceField",
			Prefix .. "respawn <plr> - Respawns player",
			Prefix .. "lag <plr> - Lags the target player",
			Prefix .. "removetools <plr> - Removes all tools",
			Prefix .. "god <plr> - Makes player invincible",
			Prefix .. "ungod <plr> - Removes invincibility",
			Prefix .. "muslist - Shows music list",
			Prefix .. "music <id/song> - Plays music",
			Prefix .. "pri - Gives admin privileges",
			Prefix .. "sit <plr> - Makes player sit",
			Prefix .. "jump <plr> - Makes player jump",
			Prefix .. "bruh <plr> - Plays 'bruh' sound",
			Prefix .. "ws <speed> - Sets walk speed",
			Prefix .. "gear <id> - Gives gear by ID",
			Prefix .. "tp <plr> - Teleports to player",
			Prefix .. "btools <plr> - Gives building tools",
			Prefix .. "pitch <n> - Sets sound pitch",
			Prefix .. "volume <n> - Sets sound volume"
		}

		for i, cmd in ipairs(commands) do
			local cmdLabel = Instance.new("TextLabel", scrollFrame)
			cmdLabel.Size = UDim2.new(1, -10, 0, 25)
			cmdLabel.Position = UDim2.new(0, 5, 0, (i-1)*25)
			cmdLabel.Text = cmd
			cmdLabel.TextColor3 = Color3.new(1, 0.5, 0.5)
			cmdLabel.Font = Enum.Font.SourceSans
			cmdLabel.TextSize = 16
			cmdLabel.TextXAlignment = Enum.TextXAlignment.Left
			cmdLabel.BackgroundTransparency = 1

			if i < #commands then
				local separator = Instance.new("Frame", scrollFrame)
				separator.Size = UDim2.new(1, -20, 0, 1)
				separator.Position = UDim2.new(0, 10, 0, i*25)
				separator.BackgroundColor3 = Color3.new(0.3, 0, 0)
				separator.BorderSizePixel = 0
			end
		end

		scrollFrame.CanvasSize = UDim2.new(0, 0, 0, #commands * 25)
	end
end)

-- Консоль
local consoleGui = nil
Admins.Chatted:connect(function(msg)
	if msg:lower() == Prefix .. "console show" then
		if consoleGui then consoleGui:Destroy() end
		
		local sg = Instance.new('ScreenGui', Admins.PlayerGui)
		consoleGui = sg
		local fm = Instance.new('Frame', sg)
		fm.Selectable = true
		fm.Size = UDim2.new(0,400,0,300)
		fm.BackgroundColor3 = Color3.new(0,0,0)
		fm.BorderSizePixel = 4
		fm.BorderColor3 = Color3.new(1,1,1)
		fm.Position = UDim2.new(0.395,0,0.3,0)
		
		local txt = Instance.new('TextLabel', fm)
		txt.Size = UDim2.new(0,400,0,25)
		txt.Text = "~Game Console~"
		txt.Font = Enum.Font.SourceSans
		txt.TextSize = 18
		txt.TextColor3 = Color3.new(1,1,1)
		txt.BackgroundColor3 = Color3.new(0,0,0)
		txt.BorderSizePixel = 4
		txt.BorderColor3 = Color3.new(1,1,1)
		
		local box = Instance.new('TextBox', fm)
		box.Position = UDim2.new(0,50,0,50)
		box.Size = UDim2.new(0,300,0,200)
		box.BackgroundColor3 = Color3.new(0,0,0)
		box.BorderSizePixel = 4
		box.BorderColor3 = Color3.new(1,1,1)
		box.TextColor3 = Color3.new(1,1,1)
		box.ClearTextOnFocus = false
		box.MultiLine = true
		box.TextXAlignment = Enum.TextXAlignment.Left
		box.TextWrapped = true
		box.TextYAlignment = Enum.TextYAlignment.Top
		box.Text = 'Type Lua code here...'
		box.Font = Enum.Font.SourceSans
		box.TextSize = 14
		
		local load1 = Instance.new('TextButton', fm)
		load1.Size = UDim2.new(0,200,0,25)
		load1.Position = UDim2.new(0,50,0,250)
		load1.BackgroundColor3 = Color3.new(0, 0.67, 0)
		load1.TextColor3 = Color3.new(0,0,0)
		load1.BorderSizePixel = 4
		load1.BorderColor3 = Color3.new(1,1,1)
		load1.Text = "Execute!"
		load1.Font = Enum.Font.SourceSans
		load1.TextSize = 14
		load1.MouseButton1Click:connect(function()
			pcall(function()
				loadstring(box.Text)()
			end)
		end)
		
		local clr = Instance.new('TextButton', fm)
		clr.Size = UDim2.new(0,50,0,25)
		clr.Position = UDim2.new(0,260,0,250)
		clr.BackgroundColor3 = Color3.new(0.67,0,0)
		clr.TextColor3 = Color3.new(0,0,0)
		clr.BorderSizePixel = 4
		clr.BorderColor3 = Color3.new(1,1,1)
		clr.Text = "Clear!"
		clr.Font = Enum.Font.SourceSans
		clr.TextSize = 14
		clr.MouseButton1Click:connect(function()
			box.Text = ''
			box:CaptureFocus()
		end)
	end
end)

Admins.Chatted:connect(function(msg)
	if msg:lower() == Prefix .. "console hide" then
		if consoleGui then
			consoleGui:Destroy()
			consoleGui = nil
		end
	end
end)

-- Команда kill
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "kill")) == Prefix .. "kill" then
		local targetName = msg:sub(#(Prefix .. "kill") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character and Admins.Character:FindFirstChild("Humanoid") then
				Admins.Character.Humanoid.Health = 0
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character and v.Character:FindFirstChild("Humanoid") then
					v.Character.Humanoid.Health = 0
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target.Character and target.Character:FindFirstChild("Humanoid") then
				target.Character.Humanoid.Health = 0
			end
		end
	end
end)

-- Команда kick
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "kick")) == Prefix .. "kick" then
		local targetName = msg:sub(#(Prefix .. "kick") + 2)
		
		if targetName:lower() == "me" then
			Admins:Kick("Kicked by admin command")
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v ~= Admins then
					v:Kick("Kicked by admin command")
				end
			end
		else
			local target = findPlayer(targetName)
			if target then
				target:Kick("Kicked by admin command")
			end
		end
	end
end)

-- Команда ban
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "ban")) == Prefix .. "ban" then
		local targetName = msg:sub(#(Prefix .. "ban") + 2)
		
		if targetName:lower() == "me" then
			local banValue = Instance.new("StringValue", folder)
			banValue.Name = Admins.Name
			banValue.Value = Admins.Name
			Admins:Kick("Banned by admin command")
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v ~= Admins then
					local banValue = Instance.new("StringValue", folder)
					banValue.Name = v.Name
					banValue.Value = v.Name
					v:Kick("Banned by admin command")
				end
			end
		else
			local target = findPlayer(targetName)
			if target then
				local banValue = Instance.new("StringValue", folder)
				banValue.Name = target.Name
				banValue.Value = target.Name
				target:Kick("Banned by admin command")
			end
		end
	end
end)

-- Команда explode
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "explode")) == Prefix .. "explode" then
		local targetName = msg:sub(#(Prefix .. "explode") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character then
				local torso = Admins.Character:FindFirstChild("Torso") or Admins.Character:FindFirstChild("UpperTorso") or Admins.Character:FindFirstChild("HumanoidRootPart")
				if torso then
					local ex = Instance.new("Explosion")
					ex.Position = torso.Position
					ex.Parent = game.Workspace
				end
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character then
					local torso = v.Character:FindFirstChild("Torso") or v.Character:FindFirstChild("UpperTorso") or v.Character:FindFirstChild("HumanoidRootPart")
					if torso then
						local ex = Instance.new("Explosion")
						ex.Position = torso.Position
						ex.Parent = game.Workspace
					end
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target.Character then
				local torso = target.Character:FindFirstChild("Torso") or target.Character:FindFirstChild("UpperTorso") or target.Character:FindFirstChild("HumanoidRootPart")
				if torso then
					local ex = Instance.new("Explosion")
					ex.Position = torso.Position
					ex.Parent = game.Workspace
				end
			end
		end
	end
end)

-- Команда exe
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "exe")) == Prefix .. "exe" then
		local scriptCode = msg:sub(#(Prefix .. "exe") + 2)
		pcall(function()
			loadstring(scriptCode)()
		end)
	end
end)

-- Команда ff (ForceField)
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "ff")) == Prefix .. "ff" then
		local targetName = msg:sub(#(Prefix .. "ff") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character then
				Instance.new("ForceField", Admins.Character)
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character then
					Instance.new("ForceField", v.Character)
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target.Character then
				Instance.new("ForceField", target.Character)
			end
		end
	end
end)

-- Команда unff (Remove ForceField)
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "unff")) == Prefix .. "unff" then
		local targetName = msg:sub(#(Prefix .. "unff") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character then
				for _, child in pairs(Admins.Character:GetChildren()) do
					if child:IsA("ForceField") then
						child:Destroy()
					end
				end
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character then
					for _, child in pairs(v.Character:GetChildren()) do
						if child:IsA("ForceField") then
							child:Destroy()
						end
					end
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target.Character then
				for _, child in pairs(target.Character:GetChildren()) do
					if child:IsA("ForceField") then
						child:Destroy()
					end
				end
			end
		end
	end
end)

-- Команда god
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "god")) == Prefix .. "god" then
		local targetName = msg:sub(#(Prefix .. "god") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character and Admins.Character:FindFirstChild("Humanoid") then
				Admins.Character.Humanoid.MaxHealth = math.huge
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character and v.Character:FindFirstChild("Humanoid") then
					v.Character.Humanoid.MaxHealth = math.huge
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target.Character and target.Character:FindFirstChild("Humanoid") then
				target.Character.Humanoid.MaxHealth = math.huge
			end
		end
	end
end)

-- Команда ungod
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "ungod")) == Prefix .. "ungod" then
		local targetName = msg:sub(#(Prefix .. "ungod") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character and Admins.Character:FindFirstChild("Humanoid") then
				Admins.Character.Humanoid.MaxHealth = 100
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character and v.Character:FindFirstChild("Humanoid") then
					v.Character.Humanoid.MaxHealth = 100
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target.Character and target.Character:FindFirstChild("Humanoid") then
				target.Character.Humanoid.MaxHealth = 100
			end
		end
	end
end)

-- Команда respawn
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "respawn")) == Prefix .. "respawn" then
		local targetName = msg:sub(#(Prefix .. "respawn") + 2)
		
		if targetName:lower() == "me" then
			Admins:LoadCharacter()
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				v:LoadCharacter()
			end
		else
			local target = findPlayer(targetName)
			if target then
				target:LoadCharacter()
			end
		end
	end
end)

-- Команда lag
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "lag")) == Prefix .. "lag" then
		local targetName = msg:sub(#(Prefix .. "lag") + 2)
		
		if targetName:lower() == "me" then
			for i = 1, 100 do
				if Admins and Admins:FindFirstChild("Backpack") then 
					local t1 = Instance.new("HopperBin", Admins.Backpack) t1.Name = "Move" t1.BinType = Enum.BinType.GameTool
					local t2 = Instance.new("HopperBin", Admins.Backpack) t2.Name = "Clone" t2.BinType = Enum.BinType.Clone
					local t3 = Instance.new("HopperBin", Admins.Backpack) t3.Name = "Delete" t3.BinType = Enum.BinType.Hammer
				end
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				for i = 1, 50 do
					if v and v:FindFirstChild("Backpack") then 
						local t1 = Instance.new("HopperBin", v.Backpack) t1.Name = "Move" t1.BinType = Enum.BinType.GameTool
						local t2 = Instance.new("HopperBin", v.Backpack) t2.Name = "Clone" t2.BinType = Enum.BinType.Clone
						local t3 = Instance.new("HopperBin", v.Backpack) t3.Name = "Delete" t3.BinType = Enum.BinType.Hammer
					end
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target:FindFirstChild("Backpack") then
				for i = 1, 100 do
					local t1 = Instance.new("HopperBin", target.Backpack) t1.Name = "Move" t1.BinType = Enum.BinType.GameTool
					local t2 = Instance.new("HopperBin", target.Backpack) t2.Name = "Clone" t2.BinType = Enum.BinType.Clone
					local t3 = Instance.new("HopperBin", target.Backpack) t3.Name = "Delete" t3.BinType = Enum.BinType.Hammer
				end
			end
		end
	end
end)

-- Команда removetools
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "removetools")) == Prefix .. "removetools" then
		local targetName = msg:sub(#(Prefix .. "removetools") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character then
				for _, tool in pairs(Admins.Character:GetChildren()) do 
					if tool:IsA("Tool") or tool:IsA("HopperBin") then 
						tool:Destroy() 
					end 
				end
			end
			if Admins:FindFirstChild("Backpack") then
				for _, tool in pairs(Admins.Backpack:GetChildren()) do 
					if tool:IsA("Tool") or tool:IsA("HopperBin") then 
						tool:Destroy() 
					end 
				end
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character then
					for _, tool in pairs(v.Character:GetChildren()) do 
						if tool:IsA("Tool") or tool:IsA("HopperBin") then 
							tool:Destroy() 
						end 
					end
				end
				if v:FindFirstChild("Backpack") then
					for _, tool in pairs(v.Backpack:GetChildren()) do 
						if tool:IsA("Tool") or tool:IsA("HopperBin") then 
							tool:Destroy() 
						end 
					end
				end
			end
		else
			local target = findPlayer(targetName)
			if target then
				if target.Character then
					for _, tool in pairs(target.Character:GetChildren()) do 
						if tool:IsA("Tool") or tool:IsA("HopperBin") then 
							tool:Destroy() 
						end 
					end
				end
				if target:FindFirstChild("Backpack") then
					for _, tool in pairs(target.Backpack:GetChildren()) do 
						if tool:IsA("Tool") or tool:IsA("HopperBin") then 
							tool:Destroy() 
						end 
					end
				end
			end
		end
	end
end)

-- Команда sit
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "sit")) == Prefix .. "sit" then
		local targetName = msg:sub(#(Prefix .. "sit") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character and Admins.Character:FindFirstChild("Humanoid") then
				Admins.Character.Humanoid.Sit = true
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character and v.Character:FindFirstChild("Humanoid") then
					v.Character.Humanoid.Sit = true
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target.Character and target.Character:FindFirstChild("Humanoid") then
				target.Character.Humanoid.Sit = true
			end
		end
	end
end)

-- Команда jump
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "jump")) == Prefix .. "jump" then
		local targetName = msg:sub(#(Prefix .. "jump") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character and Admins.Character:FindFirstChild("Humanoid") then
				Admins.Character.Humanoid.Jump = true
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character and v.Character:FindFirstChild("Humanoid") then
					v.Character.Humanoid.Jump = true
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target.Character and target.Character:FindFirstChild("Humanoid") then
				target.Character.Humanoid.Jump = true
			end
		end
	end
end)

-- Команда bruh
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "bruh")) == Prefix .. "bruh" then
		local targetName = msg:sub(#(Prefix .. "bruh") + 2)
		
		if targetName:lower() == "me" then
			if Admins.Character then
				local torso = Admins.Character:FindFirstChild("Torso") or Admins.Character:FindFirstChild("UpperTorso") or Admins.Character:FindFirstChild("HumanoidRootPart")
				if torso then
					local sound = Instance.new("Sound", torso)
					sound.SoundId = "rbxassetid://170040190"
					sound.Volume = 1
					sound.Pitch = 1
					sound.Looped = false
					sound:Play()
					wait(0.9)
					if Admins.Character:FindFirstChild("Humanoid") then
						Admins.Character.Humanoid.PlatformStand = true
					end
					game:GetService("Debris"):AddItem(sound, 5)
				end
			end
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				if v.Character then
					local torso = v.Character:FindFirstChild("Torso") or v.Character:FindFirstChild("UpperTorso") or v.Character:FindFirstChild("HumanoidRootPart")
					if torso then
						local sound = Instance.new("Sound", torso)
						sound.SoundId = "rbxassetid://170040190"
						sound.Volume = 1
						sound.Pitch = 1
						sound.Looped = false
						sound:Play()
						wait(0.9)
						if v.Character:FindFirstChild("Humanoid") then
							v.Character.Humanoid.PlatformStand = true
						end
						game:GetService("Debris"):AddItem(sound, 5)
					end
				end
			end
		else
			local target = findPlayer(targetName)
			if target and target.Character then
				local torso = target.Character:FindFirstChild("Torso") or target.Character:FindFirstChild("UpperTorso") or target.Character:FindFirstChild("HumanoidRootPart")
				if torso then
					local sound = Instance.new("Sound", torso)
					sound.SoundId = "rbxassetid://170040190"
					sound.Volume = 1
					sound.Pitch = 1
					sound.Looped = false
					sound:Play()
					wait(0.9)
					if target.Character:FindFirstChild("Humanoid") then
						target.Character.Humanoid.PlatformStand = true
					end
					game:GetService("Debris"):AddItem(sound, 5)
				end
			end
		end
	end
end)

-- Команда walkspeed
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "ws")) == Prefix .. "ws" then
		local speed = tonumber(msg:sub(#(Prefix .. "ws") + 2))
		if speed and Admins.Character and Admins.Character:FindFirstChild("Humanoid") then
			Admins.Character.Humanoid.WalkSpeed = speed
		end
	end
end)

-- Команда gear
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "gear")) == Prefix .. "gear" then
		local gearId = tonumber(msg:sub(#(Prefix .. "gear") + 2))
		if gearId then
			pcall(function()
				local asset = game:GetService("InsertService"):LoadAsset(gearId)
				if asset then
					for _, item in pairs(asset:GetChildren()) do
						if item:IsA("Tool") then
							item.Parent = Admins.Backpack
						end
					end
				end
			end)
		end
	end
end)

-- Команда teleport
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "tp")) == Prefix .. "tp" then
		local targetName = msg:sub(#(Prefix .. "tp") + 2)
		local target = findPlayer(targetName)
		
		if target and target.Character and Admins.Character then
			local targetRoot = target.Character:FindFirstChild("HumanoidRootPart") or target.Character:FindFirstChild("Torso") or target.Character:FindFirstChild("UpperTorso")
			local adminRoot = Admins.Character:FindFirstChild("HumanoidRootPart") or Admins.Character:FindFirstChild("Torso") or Admins.Character:FindFirstChild("UpperTorso")
			
			if targetRoot and adminRoot then
				adminRoot.CFrame = targetRoot.CFrame
			end
		end
	end
end)

-- Команда music
local currentMusic = nil
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "music")) == Prefix .. "music" then
		local songParam = msg:sub(#(Prefix .. "music") + 2):lower()

		if currentMusic then
			currentMusic:Stop()
			currentMusic:Destroy()
			currentMusic = nil
		end

		local sound = Instance.new('Sound', workspace)
		sound.Volume = 1
		sound.Name = 'AdminMusic'
		sound.Pitch = 1
		sound.Looped = true

		local soundId = songParam

		if songParam == "watcha" then
			soundId = "177681012"
		elseif songParam == "lean" then
			soundId = "328474897"
		elseif songParam == "baby" then
			soundId = "130841252"
		elseif songParam == "moonman" then
			soundId = "340924386"
		elseif songParam == "hello" then
			soundId = "313694441"
		elseif songParam == "waves" then
			soundId = "253545802"
		elseif songParam == "cake" then
			soundId = "313144336"
		end

		sound.SoundId = "rbxassetid://" .. soundId
		sound:Play()
		currentMusic = sound
	end

	if msg:lower():sub(1, #(Prefix .. "pitch")) == Prefix .. "pitch" then
		local pitch = tonumber(msg:sub(#(Prefix .. "pitch") + 2))
		if pitch and currentMusic then
			currentMusic.Pitch = pitch
		end
	end

	if msg:lower():sub(1, #(Prefix .. "volume")) == Prefix .. "volume" then
		local volume = tonumber(msg:sub(#(Prefix .. "volume") + 2))
		if volume and currentMusic then
			currentMusic.Volume = volume
		end
	end
end)

-- Команда btools
Admins.Chatted:connect(function(msg)
	if msg:lower():sub(1, #(Prefix .. "btools")) == Prefix .. "btools" then
		local targetName = msg:sub(#(Prefix .. "btools") + 2)
		
		local function giveBTools(targetPlayer)
			if targetPlayer and targetPlayer:FindFirstChild("Backpack") then
				local tools = {
					{Name = "Move", BinType = Enum.BinType.GameTool},
					{Name = "Clone", BinType = Enum.BinType.Clone},
					{Name = "Delete", BinType = Enum.BinType.Hammer}
				}

				for _, toolInfo in pairs(tools) do
					local tool = Instance.new("HopperBin", targetPlayer.Backpack)
					tool.Name = toolInfo.Name
					tool.BinType = toolInfo.BinType
				end
			end
		end

		if targetName:lower() == "me" then
			giveBTools(Admins)
		elseif targetName:lower() == "all" then
			for _, v in pairs(Players:GetPlayers()) do
				giveBTools(v)
			end
		else
			local target = findPlayer(targetName)
			if target then
				giveBTools(target)
			end
		end
	end
end)

-- Система орбиты
local orbModel = nil
local orbitConnection = nil

local function createOrb()
    if orbModel then 
        orbModel:Destroy() 
        orbModel = nil
    end
    
    orbModel = Instance.new('Model', workspace)
    orbModel.Name = "AdminOrbit"
    
    local humanoid = Instance.new('Humanoid', orbModel)
    humanoid.MaxHealth = 0
    
    local p = Instance.new("Part", orbModel)
    p.BrickColor = BrickColor.new("Really black")
    p.Size = Vector3.new(1,1,1)
    p.Shape = Enum.PartType.Ball
    p.Material = Enum.Material.Neon
    p.Anchored = true
    p.Name = "BsOrb"
    p.Locked = true
    p.CanCollide = false
    
    return p
end

local function startOrbit()
    if orbitConnection then 
        orbitConnection:Disconnect() 
        orbitConnection = nil
    end
    
    local p = createOrb()
    
    orbitConnection = game:GetService('RunService').Stepped:Connect(function()
        if not Admins or not Admins.Character or not p or p.Parent == nil then
            if orbitConnection then
                orbitConnection:Disconnect()
                orbitConnection = nil
            end
            return
        end
        
        local character = Admins.Character
        local torso = character:FindFirstChild("HumanoidRootPart") or character:FindFirstChild("Torso") or character:FindFirstChild("UpperTorso")
        
        if torso then
            local time = tick()
            p.CFrame = torso.CFrame * CFrame.Angles(math.sin(time), math.abs(time), math.sin(time)) * CFrame.new(0, 0, -Distance)
            
            local trailPart = Instance.new("Part")
            trailPart.CFrame = p.CFrame
            trailPart.Size = Vector3.new(0.3, 0.3, 0.3)
            trailPart.BrickColor = BrickColor.new("Really black")
            trailPart.Transparency = 0.3
            trailPart.CanCollide = false
            trailPart.Anchored = true
            trailPart.Material = Enum.Material.Neon
            trailPart.Parent = p
            game.Debris:AddItem(trailPart, 1)
        end
    end)
    
    -- Приветственное сообщение
    if workspace:FindFirstChild("Part") then
        game:GetService('Chat'):Chat(workspace.Part, "Welcome to i0rb " .. Admins.Name .. "! Current prefix: " .. Prefix .. " | Say " .. Prefix .. "cmds for commands!", Enum.ChatColor.Red)
    end
end

-- Запускаем орбиту
startOrbit()

-- Автоматическое восстановление орбиты при потере персонажа
Admins.CharacterAdded:Connect(function()
    wait(2)
    startOrbit()
end)

-- Защита от потери орбиты
while true do
    wait(10)
    if not orbModel or not orbModel.Parent or not orbModel:FindFirstChild("BsOrb") then
        startOrbit()
    end
end
